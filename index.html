
<!DOCTYPE HTML>
<html>
<head>
  <title></title>

  <style>
    body, html {
      font-family: arial, sans-serif;
      font-size: 11pt;
    }

    #visualization {
      box-sizing: border-box;
      width: 100%;
      height: 300px;
    }
  </style>

  <!-- note: moment.js must be loaded before vis.js, else vis.js uses its embedded version of moment.js -->
  <script src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.4/moment.min.js"></script>

  <script src="./dist/vis.js"></script>
  <link href="./dist/vis-timeline-graph2d.min.css" rel="stylesheet" type="text/css" />
  
</head>
<body>
<p>
  
</p>
<div style="overflow-y: scroll;" id="visualization"></div>

<script>

  var pks=2;

  var data=[
  {
    "from_pk": 0,
    "to_pk": 1,
    "t_start": new Date(2016,2,2),
    "t_end": new Date(2016,2,3), 
    "content": "Terraplen"
  },
  {
    "from_pk": 1,
    "to_pk": 2,
    "t_start": new Date(2016,2,2),
    "t_end": new Date(2016,2,4), 
    "content":"Terraplen"
  },
  {
    "from_pk": 0,
    "to_pk": 1,
    "t_start": new Date(2016,2,1),
    "t_end": new Date(2016,2,2), 
    "content":"Despeje"
  },
];

  var now = moment().minutes(0).seconds(0).milliseconds(0);
  var itemCount = 20;

  // create a data set with groups
  //var names = ['pk 0', 'pk 1', 'pk 2', 'pk 3'];
  var groups = new vis.DataSet();

  var group_index={};
  for (var i=0; i<pks;  i++){    
    var next=i+1;
    groups.add({id: i, content: "" + i + "-" + next + " pk"});
    group_index["ps"+i+"pe"+next]=i;
  }
  

  // create a dataset with items
  var items = new vis.DataSet();
  for (var i = 0; i < data.length; i++) {    
    var group = group_index["ps"+data[i].from_pk+"pe"+data[i].to_pk];
    items.add ({
      id: i,
      group: group,
      content: data[i].content,
      start: data[i].t_start,
      end: data[i].t_end,
      
    });
  }

  // create visualization
  var container = document.getElementById('visualization');
  var options = {
    groupOrder: 'content',  // groupOrder can be a property name or a sorting function
    align: "left",
    orientation:
      {
        axis: "both"
      }
  };

  var timeline = new vis.Timeline(container);
  timeline.setOptions(options);
  timeline.setGroups(groups);
  timeline.setItems(items);

</script>
</body>
</html>